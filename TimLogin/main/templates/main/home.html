{% extends 'main/base.html' %}

{% block title %}
    Home Page
{% endblock %}

{% block content %}
    <h1>Home page</h1>

    {% for quote in quotes %}
        <div class="card mt-2">
            <div class="card-header">
                <strong>@{{ quote.creator.username }}</strong>
            </div>

            <div class="card-body d-flex flex-row justify-content-between">
                <div>
                    <h5 class="card-title">{{ quote.author }}</h5>
                    <p>{{ quote.text }}</p>
                </div>
                <div>
                    {% if user == quote.creator or perms.main.delete_quote %}
                        <form method="POST">
                            {% csrf_token %}
                            <!-- every form submitted to the url -->
                            <button type="submit" class="btn btn-danger" value="{{ quote.id }}" name="quote-id">Delete</button>
                        </form>
                    {% endif %}

                    <br>

                    {% if user.is_staff %}
                        <form method="POST">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-warning" value="{{ quote.creator.id }}" name="user-id">Ban User</button>
                        </form>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                {{ quote.created }}
            </div>
        </div>

        {% empty %}
            <p>No quotes yet :/</p>
    {% endfor %}

{% endblock %}
